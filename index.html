<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PEMDA DIY DASHBOARD</title>
  </head>
  <body>
    <div id="root"></div>

    <!-- BYPASS HTTP doang. Jangan dipakai di production ya! -->
    <script>
      // DEV ONLY: polyfill crypto.subtle & randomUUID for HTTP (non-localhost)
      if(typeof crypto!=='undefined'&&!crypto.subtle){
        var K=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0x0fc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x06ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2];
        function rr(v,n){return(v>>>n)|(v<<(32-n))}
        function sha256(buf){
          var m=new Uint8Array(buf),l=m.length,bl=l*8,pl=((l+9+63)&~63),b=new Uint8Array(pl);
          b.set(m);b[l]=0x80;var dv=new DataView(b.buffer);dv.setUint32(pl-4,bl,false);
          var h0=0x6a09e667,h1=0xbb67ae85,h2=0x3c6ef372,h3=0xa54ff53a,h4=0x510e527f,h5=0x9b05688c,h6=0x1f83d9ab,h7=0x5be0cd19;
          for(var o=0;o<pl;o+=64){
            var w=new Uint32Array(64),i;
            for(i=0;i<16;i++)w[i]=dv.getUint32(o+i*4,false);
            for(i=16;i<64;i++){var s0=rr(w[i-15],7)^rr(w[i-15],18)^(w[i-15]>>>3);var s1=rr(w[i-2],17)^rr(w[i-2],19)^(w[i-2]>>>10);w[i]=(w[i-16]+s0+w[i-7]+s1)|0}
            var a=h0,b2=h1,c=h2,d=h3,e=h4,f=h5,g=h6,h=h7;
            for(i=0;i<64;i++){var S1=rr(e,6)^rr(e,11)^rr(e,25);var ch=(e&f)^(~e&g);var t1=(h+S1+ch+K[i]+w[i])|0;var S0=rr(a,2)^rr(a,13)^rr(a,22);var mj=(a&b2)^(a&c)^(b2&c);var t2=(S0+mj)|0;h=g;g=f;f=e;e=(d+t1)|0;d=c;c=b2;b2=a;a=(t1+t2)|0}
            h0=(h0+a)|0;h1=(h1+b2)|0;h2=(h2+c)|0;h3=(h3+d)|0;h4=(h4+e)|0;h5=(h5+f)|0;h6=(h6+g)|0;h7=(h7+h)|0;
          }
          var out=new ArrayBuffer(32),od=new DataView(out);
          [h0,h1,h2,h3,h4,h5,h6,h7].forEach(function(v,i){od.setUint32(i*4,v,false)});
          return out;
        }
        Object.defineProperty(crypto,'subtle',{value:{digest:function(a,d){return Promise.resolve(sha256(d))}},configurable:true});
        console.warn('[dev] crypto.subtle polyfilled for HTTP access');
      }
      if(typeof crypto!=='undefined'&&!crypto.randomUUID){
        crypto.randomUUID=function(){var b=new Uint8Array(16);crypto.getRandomValues(b);b[6]=(b[6]&0x0f)|0x40;b[8]=(b[8]&0x3f)|0x80;var h=Array.from(b,function(v){return v.toString(16).padStart(2,'0')}).join('');return h.slice(0,8)+'-'+h.slice(8,12)+'-'+h.slice(12,16)+'-'+h.slice(16,20)+'-'+h.slice(20)};
      }
    </script>

    <!-- END -->

    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
